(window["webpackJsonpmy-app2"]=window["webpackJsonpmy-app2"]||[]).push([[0],{166:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(13),c=n.n(o),s=(n(87),n(17)),l=n(18),i=n(22),u=n(19),m=n(23),p=(n(88),n(20)),f=n.n(p),d=n(29),h=n.n(d),b=n(38),g=n.n(b),E=n(35),y=n.n(E),w=n(50),v=n.n(w),j=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).delete=function(){f.a.delete("questions/".concat(n.props.id)).then((function(){n.props.onDelete()}))},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return a.createElement(h.a,{className:"question mb-5"},a.createElement(h.a.Body,null,a.createElement(h.a.Title,{className:"d-inline-block"},this.props.text),a.createElement(y.a,{className:"d-inline-block float-right"},a.createElement(y.a.Toggle,{variant:"light",id:"dropdown-basic"}),a.createElement(y.a.Menu,{alignRight:!0},a.createElement(y.a.Item,{className:"text-danger",href:"#/",onClick:this.delete},"Usu\u0144 pytanie"))),a.createElement(h.a.Text,null,this.props.isOpen?a.createElement("p",{className:"text-muted"},"Pytanie otwarte"):a.createElement(v.a,{variant:"flush"},this.props.answers.map((function(e){return a.createElement(v.a.Item,{className:"answer "+(e.correct?"text-success":"text-danger")},e.text)}))))),a.createElement(h.a.Footer,null,this.props.tags.map((function(e){return a.createElement(g.a,{variant:"secondary"},e.name)}))))}}]),t}(a.Component),O=n(14),k=n.n(O),C=n(80),S=n.n(C),x=n(39),N=n(81),P=n(11),D=n.n(P),A=n(6),q=n.n(A),M=n(36),G=n.n(M),_=n(48),B=n.n(_),L=function(e){function t(){var e,n;Object(s.a)(this,t);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return(n=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).ref=a.createRef(),n.delete=function(e){n.props.onChange(n.props.tags.filter((function(t,n){return n!==e})))},n.add=function(e){var t={name:e.target.value};console.log(),t.name&&n.props.tags.every((function(e){return e.name!==t.name}))&&n.props.onChange(n.props.tags.concat(t)),e.target.value=""},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return a.createElement("div",{className:this.props.className},this.props.tags.map((function(t,n){return a.createElement(g.a,{key:t.name,variant:"secondary",className:"mb-2 mr-2"},t.name,a.createElement("b",{className:"ml-2",style:{cursor:"pointer",fontSize:"1rem"},onClick:function(t){return e.delete(n)}},"\xd7"))})),a.createElement(B.a,{ref:this.ref,className:"d-inline-block",type:"text",placeholder:"\u2795 Dodaj tag",size:"sm",style:{borderRadius:".25rem !important",maxWidth:"7rem"},onBlur:this.add,onKeyDown:function(t){return"Enter"===t.key&&e.ref.current.blur()}}))}}]),t}(a.Component);function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var H=function(){return{text:"",is_open:!1,answers:[{text:"",correct:!1}],tags:[]}},R=function(e){function t(){var e,n;Object(s.a)(this,t);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return(n=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state=H(),n.ref=a.createRef(),n.setName=function(e){n.setState({text:e})},n.setAnswerCorrectness=function(e,t){n.setState((function(n){var a=n.answers;return a[e].correct=t,{answers:a}}))},n.setAnswer=function(e,t){n.setState((function(n){var a=n.answers;return a[e].text=t,{answers:a}}))},n.addAnwer=function(){n.setState((function(e){return{answers:[].concat(Object(N.a)(e.answers),[{text:"",correct:!1}])}}))},n.removeAnswer=function(e){n.setState((function(t){return{answers:t.answers.filter((function(t,n){return n!==e}))}}))},n.add=function(){f.a.post("questions",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(n,!0).forEach((function(t){Object(x.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n.state,{answers:n.state.answers.filter((function(e){return e.text}))})).then((function(){n.props.onHide(),n.reset(),n.props.onAdd()}))},n.reset=function(){n.setState(H())},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return a.createElement(D.a,Object.assign({},this.props,{size:"lg"}),a.createElement(D.a.Header,{closeButton:!0},a.createElement(D.a.Title,null,"Dodaj pytanie")),a.createElement(D.a.Body,null,a.createElement(q.a,{ref:this.ref},a.createElement(q.a.Group,null,a.createElement(q.a.Label,null,"Pytanie"),a.createElement(q.a.Control,{name:"name",type:"text",required:!0,autoComplete:"off",onChange:function(t){return e.setName(t.target.value)}})),a.createElement(q.a.Group,null,a.createElement(q.a.Check,{type:"checkbox",label:"Pytanie otwarte",checked:this.state.is_open,onChange:function(t){return e.setState({is_open:t.target.checked})}})),!this.state.is_open&&a.createElement(q.a.Group,null,a.createElement(q.a.Label,null,"Odpowiedzi"),this.state.answers.map((function(t,n){return a.createElement(G.a,{className:"mb-2"},a.createElement(G.a.Prepend,null,a.createElement(G.a.Checkbox,{checked:t.correct,onChange:function(t){return e.setAnswerCorrectness(n,t.target.checked)}})),a.createElement(q.a.Control,{type:"text",autoComplete:"off",value:t.text,onChange:function(t){return e.setAnswer(n,t.target.value)}}),a.createElement(G.a.Append,null,e.state.answers.length>1?a.createElement(k.a,{variant:"outline-danger",onClick:function(t){return e.removeAnswer(n)}},"Usu\u0144"):a.createElement(k.a,{disabled:!0,variant:"outline-secondary",onClick:function(t){return e.removeAnswer(n)}},"Usu\u0144")))})),a.createElement("a",{href:"#/",onClick:this.addAnwer},"Dodaj kolejn\u0105 odpowied\u017a")),a.createElement(q.a.Group,null,a.createElement(q.a.Label,{className:"mb-0"},"Tagi"),a.createElement(q.a.Text,{className:"text-muted mt-0"},"(wybierz co najmniej jeden)"),a.createElement(L,{className:"mt-2",tags:this.state.tags,onChange:function(t){return e.setState({tags:t})}})))),a.createElement(D.a.Footer,null,a.createElement(k.a,{variant:"outline-secondary",onClick:function(){e.reset(),e.props.onHide()}},"Anuluj"),a.createElement(k.a,{variant:"primary",onClick:this.add},"Dodaj pytanie")))}}]),t}(a.Component),T=n(34),F=n.n(T),U=n(40),W=n.n(U);function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var J=function(){return{tags:[],generated:!1,files:[]}},K=function(e){function t(){var e,n;Object(s.a)(this,t);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return(n=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state=J(),n.ref=a.createRef(),n.backendURL="http://localhost:5000",n.generate=function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(n,!0).forEach((function(t){Object(x.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n.state);delete e.generated,delete e.files,f.a.post("exam/generate",e).then((function(e){n.setState({generated:!0,files:e.data.files})}))},n.reset=function(){n.setState(J())},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return a.createElement(D.a,Object.assign({},this.props,{size:"lg"}),a.createElement(D.a.Header,{closeButton:!0},a.createElement(D.a.Title,null,"Generuj test")),this.state.generated?a.createElement(a.Fragment,null,a.createElement(D.a.Body,null,this.state.files.map((function(t,n){return a.createElement("div",null,a.createElement("a",{key:n,href:e.backendURL+t,target:"_blank",rel:"noopener noreferrer"},t.split("/").pop()))}))),a.createElement(D.a.Footer,null,a.createElement(k.a,{variant:"primary",onClick:function(){e.reset(),e.props.onHide()}},"Zamknij"))):a.createElement(a.Fragment,null,a.createElement(D.a.Body,null,a.createElement(q.a,{ref:this.ref},a.createElement(q.a.Group,{as:W.a},a.createElement(q.a.Label,{column:!0,sm:"4"},"Podaj ilo\u015b\u0107 grup"),a.createElement(F.a,{sm:"4"},a.createElement(q.a.Control,{type:"number",required:!0,onChange:function(t){return e.setState({groups_number:Number(t.target.value)})}}))),a.createElement(q.a.Group,{as:W.a},a.createElement(q.a.Label,{column:!0,sm:"4"},"Podaj ilo\u015b\u0107 pyta\u0144 zamkni\u0119tych"),a.createElement(F.a,{sm:"4"},a.createElement(q.a.Control,{type:"number",required:!0,onChange:function(t){return e.setState({closed_questions_number:Number(t.target.value)})}}))),a.createElement(q.a.Group,{as:W.a},a.createElement(q.a.Label,{column:!0,sm:"4"},"Podaj ilo\u015b\u0107 pyta\u0144 otwartych"),a.createElement(F.a,{sm:"4"},a.createElement(q.a.Control,{type:"number",required:!0,onChange:function(t){return e.setState({opened_questions_number:Number(t.target.value)})}}))),a.createElement(q.a.Group,null,a.createElement(q.a.Label,null,"Wybierz tagi"),a.createElement(L,{tags:this.state.tags,onChange:function(t){return e.setState({tags:t})}})))),a.createElement(D.a.Footer,null,a.createElement(k.a,{variant:"outline-secondary",onClick:function(){e.reset(),e.props.onHide()}},"Anuluj"),a.createElement(k.a,{variant:"primary",onClick:function(){e.generate(),e.reset()}},"Generuj test"))))}}]),t}(a.Component),Z=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={questions:[],addModalShow:!1,genModalShow:!1},n.fetchData=function(){return f.a.get("questions").then((function(e){var t=e.data;n.setState({questions:t})}))},n.showModal=function(){n.setState({addModalShow:!0})},n.hideModal=function(){n.setState({addModalShow:!1})},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"mt-5 mx-5"},r.a.createElement(S.a,{className:"mb-4",style:{width:"100%",justifyContent:"space-between"}},r.a.createElement(k.a,{variant:"outline-primary",onClick:this.showModal},"Dodaj pytanie"),r.a.createElement(k.a,{variant:"primary",onClick:function(){return e.setState({genModalShow:!0})}},"Generuj test"),r.a.createElement(R,{show:this.state.addModalShow,onHide:this.hideModal,onAdd:this.fetchData}),r.a.createElement(K,{show:this.state.genModalShow,onHide:function(){return e.setState({genModalShow:!1})}})),this.state.questions.length>0?r.a.createElement("div",{className:"questions-list"},this.state.questions.map((function(t){var n=t.id,a=t.text,o=t.answers,c=t.tags,s=t.is_open;return r.a.createElement(j,{onDelete:e.fetchData,id:n,text:a,answers:o,tags:c,isOpen:s})}))," "):r.a.createElement("p",{className:"my-5 text-muted text-center"},"Brak pyta\u0144 w bazie."))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(165);f.a.defaults.baseURL="http://127.0.0.1:5000/",c.a.render(r.a.createElement(Z,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},82:function(e,t,n){e.exports=n(166)},87:function(e,t,n){},88:function(e,t,n){}},[[82,1,2]]]);
//# sourceMappingURL=main.72ca805e.chunk.js.map