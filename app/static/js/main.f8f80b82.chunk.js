(window["webpackJsonpmy-app2"]=window["webpackJsonpmy-app2"]||[]).push([[0],{167:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(19),c=n.n(o),s=(n(90),n(10)),i=n(11),l=n(13),u=n(12),m=n(14),f=(n(91),n(21)),p=n.n(f),d=n(29),h=n.n(d),E=n(39),b=n.n(E),g=n(30),y=n.n(g),v=n(54),w=n.n(v),j=n(38),O=n(17),k=n.n(O),C=n(15),S=n.n(C),x=n(40),q=n.n(x),D=function e(t){switch(typeof t){case"object":return Object.values(t).flatMap(e);case"array":return t;case"string":return[t];default:return[]}},N=n(84),P=n(6),A=n.n(P),H=n(37),M=n.n(H),_=n(52),B=n.n(_),G=function(e){function t(){var e,n;Object(s.a)(this,t);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).ref=a.createRef(),n.delete=function(e){n.props.onChange(n.props.tags.filter((function(t,n){return n!==e})))},n.add=function(e){var t={name:e.target.value};console.log(),t.name&&n.props.tags.every((function(e){return e.name!==t.name}))&&n.props.onChange(n.props.tags.concat(t)),e.target.value=""},n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return a.createElement("div",{className:this.props.className},this.props.tags.map((function(t,n){return a.createElement(b.a,{key:t.name,variant:"secondary",className:"mb-2 mr-2"},t.name,a.createElement("b",{className:"ml-2",style:{cursor:"pointer",fontSize:"1rem"},onClick:function(t){return e.delete(n)}},"\xd7"))})),a.createElement(B.a,{ref:this.ref,className:"d-inline-block",type:"text",placeholder:"\u2795 Dodaj tag",size:"sm",style:{borderRadius:".25rem !important",maxWidth:"7rem"},onBlur:this.add,onKeyDown:function(t){return"Enter"===t.key&&e.ref.current.blur()}}))}}]),t}(a.Component),z=function(){return{text:"",is_open:!1,answers:[{text:"",correct:!1}],tags:[]}},L=function(e){function t(){var e,n;Object(s.a)(this,t);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state=n.props.question||z(),n.ref=a.createRef(),n.setName=function(e){n.setState({text:e})},n.setAnswerCorrectness=function(e,t){n.setState((function(n){var a=n.answers;return a[e].correct=t,{answers:a}}))},n.setAnswer=function(e,t){n.setState((function(n){var a=n.answers;return a[e].text=t,{answers:a}}))},n.addAnwer=function(){n.setState((function(e){return{answers:[].concat(Object(N.a)(e.answers),[{text:"",correct:!1}])}}))},n.removeAnswer=function(e){n.setState((function(t){return{answers:t.answers.filter((function(t,n){return n!==e}))}}))},n.reset=function(){n.setState(z())},n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return a.createElement(A.a,{ref:this.ref},a.createElement(A.a.Group,null,a.createElement(A.a.Label,null,"Pytanie"),a.createElement(A.a.Control,{name:"name",type:"text",required:!0,value:this.state.text,autoComplete:"off",onChange:function(t){return e.setName(t.target.value)}})),a.createElement(A.a.Group,null,a.createElement(A.a.Check,{type:"checkbox",label:"Pytanie otwarte",checked:this.state.is_open,onChange:function(t){return e.setState({is_open:t.target.checked})}})),!this.state.is_open&&a.createElement(A.a.Group,null,a.createElement(A.a.Label,null,"Odpowiedzi"),this.state.answers.map((function(t,n){return a.createElement(M.a,{key:n,className:"mb-2"},a.createElement(M.a.Prepend,null,a.createElement(M.a.Checkbox,{checked:t.correct,onChange:function(t){return e.setAnswerCorrectness(n,t.target.checked)}})),a.createElement(A.a.Control,{type:"text",autoComplete:"off",value:t.text,onChange:function(t){return e.setAnswer(n,t.target.value)}}),a.createElement(M.a.Append,null,e.state.answers.length>1?a.createElement(S.a,{variant:"outline-danger",onClick:function(t){return e.removeAnswer(n)}},"Usu\u0144"):a.createElement(S.a,{disabled:!0,variant:"outline-secondary",onClick:function(t){return e.removeAnswer(n)}},"Usu\u0144")))})),a.createElement("a",{href:"#/",onClick:this.addAnwer},"Dodaj kolejn\u0105 odpowied\u017a")),a.createElement(A.a.Group,null,a.createElement(A.a.Label,{className:"mb-0"},"Tagi"),a.createElement(A.a.Text,{className:"text-muted mt-0"},"(wybierz co najmniej jeden)"),a.createElement(G,{className:"mt-2",tags:this.state.tags,onChange:function(t){return e.setState({tags:t})}})))}}]),t}(a.Component);function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(n,!0).forEach((function(t){Object(j.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var F=function(){return{errors:null}},I=function(e){function t(){var e,n;Object(s.a)(this,t);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state=F(),n.ref=a.createRef(),n.isEditing=!!n.props.question,n.add=function(){var e=T({},n.ref.current.state,{},n.ref.current.state.is_open&&{answers:void 0});(n.isEditing?p.a.put("questions/".concat(e.id),e):p.a.post("questions/",e)).then((function(){n.onHide(),n.props.onAdd()})).catch((function(e){var t=e.response.data.error;n.setState({errors:D(t)})}))},n.onHide=function(){n.setState(F()),n.ref.current.reset(),n.props.onHide()},n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.isEditing?"Edytuj pytanie":"Dodaj pytanie";return a.createElement(k.a,Object.assign({},T({},this.props,{onHide:this.onHide}),{size:"lg"}),a.createElement(k.a.Header,{closeButton:!0},a.createElement(k.a.Title,null,t)),a.createElement(k.a.Body,null,this.state.errors&&a.createElement(q.a,{variant:"danger"},a.createElement("ul",null,this.state.errors.map((function(e,t){return a.createElement("li",{key:t},e)})))),a.createElement(L,{ref:this.ref,question:this.props.question})),a.createElement(k.a.Footer,null,a.createElement(S.a,{variant:"outline-secondary",onClick:function(){e.onHide()}},"Anuluj"),a.createElement(S.a,{variant:"primary",onClick:this.add},t)))}}]),t}(a.Component),U=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={showEditDialog:!1},n.delete=function(){var e=n.props.question.id;p.a.delete("questions/".concat(e)).then((function(){n.props.onDelete()}))},n.edit=function(){n.setState({showEditDialog:!0})},n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props.question,n=t.text,r=t.answers,o=t.tags,c=t.is_open;return a.createElement(h.a,{className:"question mb-5"},a.createElement(I,{question:this.props.question,show:this.state.showEditDialog,onHide:function(){e.setState({showEditDialog:!1})},onAdd:this.props.onEdit}),a.createElement(h.a.Body,null,a.createElement(h.a.Title,{className:"d-inline-block"},n),a.createElement(y.a,{className:"d-inline-block float-right"},a.createElement(y.a.Toggle,{variant:"light",id:"dropdown-basic"}),a.createElement(y.a.Menu,{alignRight:!0},a.createElement(y.a.Item,{href:"#/",onClick:this.edit},"Edytuj pytanie"),a.createElement(y.a.Item,{className:"text-danger",href:"#/",onClick:this.delete},"Usu\u0144 pytanie"))),a.createElement(h.a.Text,null,c?a.createElement("p",{className:"text-muted"},"Pytanie otwarte"):a.createElement(w.a,{variant:"flush"},r.map((function(e,t){return a.createElement(w.a.Item,{key:t,className:"answer "+(e.correct?"text-success":"text-danger")},e.text)}))))),!!o.length&&a.createElement(h.a.Footer,null,a.createElement("div",{style:{marginBottom:"-.5rem"}},o.map((function(e){return a.createElement(b.a,{key:e.name,className:"mb-2 mr-2",variant:"info"},e.name)})))))}}]),t}(a.Component),W=n(83),J=n.n(W),K=n(36),Z=n.n(K),$=n(41),Q=n.n($),V=function(){return{tags:[]}},X=function(e){function t(){var e,n;Object(s.a)(this,t);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state=V(),n.ref=a.createRef(),n.reset=function(){n.setState(V())},n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return a.createElement(A.a,{ref:this.ref},a.createElement(A.a.Group,{as:Q.a},a.createElement(A.a.Label,{column:!0,sm:"4"},"Podaj ilo\u015b\u0107 grup"),a.createElement(Z.a,{sm:"4"},a.createElement(A.a.Control,{type:"number",required:!0,onChange:function(t){return e.setState({groups_number:Number(t.target.value)})}}))),a.createElement(A.a.Group,{as:Q.a},a.createElement(A.a.Label,{column:!0,sm:"4"},"Podaj ilo\u015b\u0107 pyta\u0144 zamkni\u0119tych"),a.createElement(Z.a,{sm:"4"},a.createElement(A.a.Control,{type:"number",required:!0,onChange:function(t){return e.setState({closed_questions_number:Number(t.target.value)})}}))),a.createElement(A.a.Group,{as:Q.a},a.createElement(A.a.Label,{column:!0,sm:"4"},"Podaj ilo\u015b\u0107 pyta\u0144 otwartych"),a.createElement(Z.a,{sm:"4"},a.createElement(A.a.Control,{type:"number",required:!0,onChange:function(t){return e.setState({opened_questions_number:Number(t.target.value)})}}))),a.createElement(A.a.Group,null,a.createElement(A.a.Label,null,"Wybierz tagi"),a.createElement(G,{tags:this.state.tags,onChange:function(t){return e.setState({tags:t})}})))}}]),t}(a.Component);function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var ee=function(){return{generated:!1,files:[],errors:null}},te=function(e){function t(){var e,n;Object(s.a)(this,t);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state=ee(),n.ref=a.createRef(),n.generate=function(){var e=n.ref.current.state;p.a.post("exam/generate",e).then((function(e){n.setState({generated:!0,files:e.data.files})})).catch((function(e){var t=e.response.data.error;n.setState({errors:D(t)})}))},n.onHide=function(){n.setState(ee()),n.ref.current.reset(),n.props.onHide()},n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return a.createElement(k.a,Object.assign({},function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(n,!0).forEach((function(t){Object(j.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props,{onHide:this.onHide}),{size:"lg"}),a.createElement(k.a.Header,{closeButton:!0},a.createElement(k.a.Title,null,"Generuj test")),this.state.generated?a.createElement(a.Fragment,null,a.createElement(k.a.Body,null,this.state.files.map((function(e,t){return a.createElement("div",{key:t},a.createElement("a",{href:"http://localhost:5000"+e,target:"_blank",rel:"noopener noreferrer"},e.split("/").pop()))}))),a.createElement(k.a.Footer,null,a.createElement(S.a,{variant:"primary",onClick:function(){e.onHide()}},"Zamknij"))):a.createElement(a.Fragment,null,a.createElement(k.a.Body,null,this.state.errors&&a.createElement(q.a,{variant:"danger"},a.createElement("ul",null,this.state.errors.map((function(e,t){return a.createElement("li",{key:t},e)})))),a.createElement(X,{ref:this.ref})),a.createElement(k.a.Footer,null,a.createElement(S.a,{variant:"outline-secondary",onClick:function(){e.onHide()}},"Anuluj"),a.createElement(S.a,{variant:"primary",onClick:function(){e.generate()}},"Generuj test"))))}}]),t}(a.Component),ne=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={questions:[],addModalShow:!1,genModalShow:!1},n.fetchData=function(){return p.a.get("questions/").then((function(e){var t=e.data;n.setState({questions:t})}))},n.showModal=function(){n.setState({addModalShow:!0})},n.hideModal=function(){n.setState({addModalShow:!1})},n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"mt-5 mx-5"},r.a.createElement(J.a,{className:"mb-4",style:{width:"100%",justifyContent:"space-between"}},r.a.createElement(S.a,{variant:"outline-primary",onClick:this.showModal},"Dodaj pytanie"),r.a.createElement(S.a,{variant:"primary",onClick:function(){return e.setState({genModalShow:!0})}},"Generuj test"),r.a.createElement(I,{show:this.state.addModalShow,onHide:this.hideModal,onAdd:this.fetchData}),r.a.createElement(te,{show:this.state.genModalShow,onHide:function(){return e.setState({genModalShow:!1})}})),this.state.questions.length>0?r.a.createElement("div",{className:"questions-list"},this.state.questions.map((function(t){return r.a.createElement(U,{key:t,question:t,onDelete:e.fetchData,onEdit:e.fetchData})}))," "):r.a.createElement("p",{className:"my-5 text-muted text-center"},"Brak pyta\u0144 w bazie."))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(166);p.a.defaults.baseURL="http://127.0.0.1:5000/",c.a.render(r.a.createElement(ne,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},85:function(e,t,n){e.exports=n(167)},90:function(e,t,n){},91:function(e,t,n){}},[[85,1,2]]]);
//# sourceMappingURL=main.f8f80b82.chunk.js.map